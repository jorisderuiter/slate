
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting started">Getting started</a>
          </li>
          <li>
            <a href="#calculator" class="toc-h1 toc-link" data-title="Calculator">Calculator</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#methods" class="toc-h2 toc-link" data-title="Methods">Methods</a>
                  </li>
                  <li>
                    <a href="#on-event-handler" class="toc-h2 toc-link" data-title="on(event, handler)">on(event, handler)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#questions" class="toc-h1 toc-link" data-title="Questions">Questions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#properties" class="toc-h2 toc-link" data-title="Properties">Properties</a>
                  </li>
                  <li>
                    <a href="#methods-2" class="toc-h2 toc-link" data-title="Methods">Methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#question" class="toc-h1 toc-link" data-title="Question">Question</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#properties-2" class="toc-h2 toc-link" data-title="Properties">Properties</a>
                  </li>
                  <li>
                    <a href="#methods-3" class="toc-h2 toc-link" data-title="Methods">Methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#formulas" class="toc-h1 toc-link" data-title="Formulas">Formulas</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#properties-3" class="toc-h2 toc-link" data-title="Properties">Properties</a>
                  </li>
                  <li>
                    <a href="#methods-4" class="toc-h2 toc-link" data-title="Methods">Methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#formula" class="toc-h1 toc-link" data-title="Formula">Formula</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#properties-4" class="toc-h2 toc-link" data-title="Properties">Properties</a>
                  </li>
                  <li>
                    <a href="#methods-5" class="toc-h2 toc-link" data-title="Methods">Methods</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://app.convertcalculator.co'>Go to ConvertCalculator</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the ConvertCalculator JS API! Create even more versatile calculators using ConvertCalculator&#39;s JavaScript API.</p>
<h1 id='getting-started'>Getting started</h1>
<p>First head over <a href="https://app.convertcalculator.co">to the editor</a>. Make sure you have a premium account (<a href="https://app.convertcalculator.co/billing">if not, head over to the billing page</a>) and toggle the &quot;Use API&quot; switch in in the settings pane in the calculator editor.</p>

<p>Now make sure you have embedded the calculator on your website. After that, you can create an instance of the ConvertCalculator object. The ID of your calculator is required:</p>
<pre class="highlight javascript tab-javascript"><code><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'ccloaded'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">convertcalculator</span> <span class="o">=</span> <span class="nx">cc</span><span class="p">.</span><span class="nx">getInstance</span><span class="p">(</span><span class="s1">'HfJXPJuj5pDCEpLfr'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><h1 id='calculator'>Calculator</h1><h2 id='methods'>Methods</h2><h3 id='addformdata-name-value'>addFormData(name, value)</h3>
<p>Adds and extra key value pair to a form submission.</p>
<pre class="highlight javascript tab-javascript"><code><span class="nx">convertcalculator</span><span class="p">.</span><span class="nx">calculator</span><span class="p">.</span><span class="nx">addFormData</span><span class="p">(</span><span class="s1">'No. of Bananas'</span><span class="p">,</span> <span class="mi">12</span><span class="p">);</span>
</code></pre><h2 id='on-event-handler'>on(event, handler)</h2>
<p>The way to communicate with the calculator is through events. The following events can be emitted:</p>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>submit</strong></td>
<td>Triggered when a visitor submits a form</td>
</tr>
<tr>
<td><strong>interaction</strong></td>
<td>Triggered when a visitor interacts with the calculator</td>
</tr>
</tbody></table>
<pre class="highlight javascript tab-javascript"><code><span class="nx">convertcalculator</span><span class="p">.</span><span class="nx">calculator</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'submit'</span><span class="p">,</span> <span class="p">(</span><span class="nx">formData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">formData</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">convertcalculator</span><span class="p">.</span><span class="nx">calculator</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'interaction'</span><span class="p">,</span> <span class="p">(</span><span class="nx">questions</span><span class="p">,</span> <span class="nx">formulas</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">questions</span><span class="p">,</span> <span class="nx">formulas</span><span class="p">);</span>
<span class="p">});</span>
</code></pre><h1 id='questions'>Questions</h1><h2 id='properties'>Properties</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>questions</code></td>
<td>An array of Question objects</td>
</tr>
</tbody></table>
<h2 id='methods-2'>Methods</h2><h3 id='getbyid-questionid'>getById(questionId)</h3>
<p>Get a question model by it&#39;s ID. To find an id, <code>console.log(convertcalculator.questions)</code>.</p>
<pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">question</span> <span class="o">=</span> <span class="nx">convertcalculator</span><span class="p">.</span><span class="nx">questions</span><span class="p">.</span><span class="nx">getById</span><span class="p">(</span><span class="s1">'uKFTJWxrjHARvFixE'</span><span class="p">);</span>
</code></pre><h3 id='add-properties'>add(properties)</h3>
<p>Add a new question to the calculator.</p>
<pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">newQuestion</span> <span class="o">=</span> <span class="nx">convertcalculator</span><span class="p">.</span><span class="nx">questions</span><span class="p">.</span><span class="nx">add</span><span class="p">({</span>
  <span class="na">_id</span><span class="p">:</span> <span class="s1">'sample_id'</span><span class="p">,</span>
  <span class="na">title</span><span class="p">:</span> <span class="s1">'How much money is in the bananastand?'</span><span class="p">,</span>
  <span class="na">description</span><span class="p">:</span> <span class="s1">'You tell me, mr. Manager'</span><span class="p">,</span>
  <span class="na">type</span><span class="p">:</span> <span class="s1">'custom'</span><span class="p">,</span>
  <span class="na">order</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre><h1 id='question'>Question</h1><h2 id='properties-2'>Properties</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>_id</code></td>
<td>String</td>
</tr>
<tr>
<td><code>title</code></td>
<td>String</td>
</tr>
<tr>
<td><code>description</code></td>
<td>String</td>
</tr>
<tr>
<td><code>order</code></td>
<td>Number</td>
</tr>
<tr>
<td><code>type</code></td>
<td>String <code>(range, radio, places, dates, orderList, separator, switch, text)</code></td>
</tr>
<tr>
<td><code>[type]</code></td>
<td>Object of type Properties</td>
</tr>
</tbody></table>
<h2 id='methods-3'>Methods</h2><h3 id='getanswer'>getAnswer()</h3>
<p>Get the current answer to a question programmatically. Every question has a <code>label</code> and a <code>value</code>. The <code>label</code> is a formatted <code>value</code>. Some questions (like the Places and Date question) have an extra <code>data</code> object that include some additional values (e.g. <code>isWeekend</code> in Date and <code>fromPlaceId</code> in Places).</p>
<pre class="highlight plaintext"><code>const answer = question.getAnswer();
const { label, value, data } = answer;
</code></pre><h3 id='setanswer-answer'>setAnswer(answer)</h3>
<p>Set the answer to a question programmatically. This will update any formulas in which the question is included/</p>
<h3 id='setdescription-description'>setDescription(description)</h3>
<p>Set the description of the question programmatically.</p>
<h3 id='settitle-title'>setTitle(title)</h3>
<p>Set the title of the question programmatically.</p>
<pre class="highlight javascript tab-javascript"><code>  <span class="nx">question</span><span class="p">.</span><span class="nx">setAnswer</span><span class="p">({</span> <span class="na">label</span><span class="p">:</span> <span class="s1">'30'</span><span class="p">,</span> <span class="na">value</span><span class="p">:</span> <span class="mi">35</span> <span class="p">});</span>
</code></pre><h3 id='getelement'>getElement()</h3>
<p>Get the DOM element of the question. If you want to create custom HTML, you need to get the DOM element and do something with it.</p>
<pre class="highlight javascript tab-javascript"><code>  <span class="kr">const</span> <span class="nx">questionEl</span> <span class="o">=</span> <span class="nx">question</span><span class="p">.</span><span class="nx">getElement</span><span class="p">();</span>
  <span class="nx">questionEl</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">'&lt;input type="month" /&gt;'</span><span class="p">;</span>
</code></pre><h1 id='formulas'>Formulas</h1><h2 id='properties-3'>Properties</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>formulas</code></td>
<td>An array of Formula objects</td>
</tr>
</tbody></table>
<h2 id='methods-4'>Methods</h2><h3 id='getbyid-formulaid'>getById(formulaId)</h3>
<p>Get a Formula model by it&#39;s ID. To find an id, <code>console.log(convertcalculator.formulas)</code>.</p>
<pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">question</span> <span class="o">=</span> <span class="nx">convertcalculator</span><span class="p">.</span><span class="nx">formulas</span><span class="p">.</span><span class="nx">getById</span><span class="p">(</span><span class="s1">'uKFTJWxrjHARvFixE'</span><span class="p">);</span>
</code></pre><h3 id='add-properties-2'>add(properties)</h3>
<p>Add a new formula to the calculator.</p>
<pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">newFormula</span> <span class="o">=</span> <span class="nx">convertcalculator</span><span class="p">.</span><span class="nx">questions</span><span class="p">.</span><span class="nx">add</span><span class="p">({</span>
  <span class="na">_id</span><span class="p">:</span> <span class="s1">'new_formula'</span><span class="p">,</span>
  <span class="na">title</span><span class="p">:</span> <span class="s1">'There is always money in the bananastand'</span><span class="p">,</span>
  <span class="na">order</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">equation</span><span class="p">:</span> <span class="s1">'QA * QC'</span><span class="p">,</span>
<span class="p">});</span>
</code></pre><h1 id='formula'>Formula</h1><h2 id='properties-4'>Properties</h2>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>_id</code></td>
<td>String</td>
</tr>
<tr>
<td><code>title</code></td>
<td>String</td>
</tr>
<tr>
<td><code>description</code></td>
<td>String</td>
</tr>
<tr>
<td><code>order</code></td>
<td>Number</td>
</tr>
</tbody></table>
<h2 id='methods-5'>Methods</h2><h3 id='setequation-equation'>setEquation(equation)</h3>
<p>Set the equation of a formula programmatically.</p>
<h3 id='setdescription-description-2'>setDescription(description)</h3>
<p>Set the description of the formula programmatically.</p>
<h3 id='settitle-title-2'>setTitle(title)</h3>
<p>Set the title of the formula programmatically.</p>
<pre class="highlight javascript tab-javascript"><code>  <span class="kr">const</span> <span class="nx">otherValue</span> <span class="o">=</span> <span class="mi">145</span><span class="p">;</span>
  <span class="nx">question</span><span class="p">.</span><span class="nx">setEquation</span><span class="p">(</span><span class="s2">`QA * QB * </span><span class="p">${</span><span class="nx">otherValue</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
</code></pre><h3 id='getelement-2'>getElement()</h3>
<p>Get the DOM element of the formula.</p>
<pre class="highlight javascript tab-javascript"><code>  <span class="kr">const</span> <span class="nx">formulaEl</span> <span class="o">=</span> <span class="nx">formula</span><span class="p">.</span><span class="nx">getElement</span><span class="p">();</span>
  <span class="nx">formulaEl</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">'&lt;h3&gt;Completely remove the formula result and replace it with something else.&lt;/h3&gt;'</span><span class="p">;</span>
</code></pre>
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
